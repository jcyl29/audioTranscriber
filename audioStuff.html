<!DOCTYPE html>
<html>
<head>
    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.14.0/babel.min.js"></script>
    <script type="text/babel" data-presets="es2017, stage-3" data-plugins="syntax-async-functions,transform-class-properties"></script>
</head>
<body>
    <input type="file" id="audioInput" accept="audio/*" style="display:none;">
    <button id="uploadButton">Upload Audio File</button>
    <div id="fileInfo">
        <p id="fileName"></p>
        <p id="fileSize"></p>
        <p id="fileDuration"></p>
    </div>

    <script>
        const uploadButton = document.getElementById('uploadButton');
        const audioInput = document.getElementById('audioInput');
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();

        uploadButton.addEventListener('click', () => {
            audioInput.click();
        });

        audioInput.addEventListener('change', (event) => {
            const file = event.target.files[0];

            if (file) {
                // File name
                const fileName = file.name;
                document.getElementById('fileName').textContent = 'File Name: ' + fileName;

                // File size in megabytes
                const fileSize = (file.size / (1024 * 1024)).toFixed(2); // Convert to MB and format to 2 decimal places
                document.getElementById('fileSize').textContent = 'File Size: ' + fileSize + ' MB';

                // File duration
                const reader = new FileReader();
                reader.onload = function(e) {
                    audioContext.decodeAudioData(e.target.result, (buffer) => {
                        const duration = buffer.duration;
                        const formattedDuration = formatDuration(duration);
                        document.getElementById('fileDuration').textContent = 'Duration: ' + formattedDuration;
                    }, (error) => {
                        console.error('Error decoding audio data:', error);
                    });
                };
                reader.readAsArrayBuffer(file);
            }
        });

        function formatDuration(seconds) {
            const hrs = Math.floor(seconds / 3600);
            const mins = Math.floor((seconds % 3600) / 60);
            const secs = Math.floor(seconds % 60);
            return `${hrs.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }
    </script>
</body>
</html>
